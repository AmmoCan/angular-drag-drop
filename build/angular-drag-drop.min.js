var AngularDragDrop=function(e){function t(n){if(r[n])return r[n].exports;var a=r[n]={exports:{},id:n,loaded:!1};return e[n].call(a.exports,a,a.exports,t),a.loaded=!0,a.exports}var r={};return t.m=e,t.c=r,t.p="/static/",t(0)}([function(e,t,r){r(2);var n=r(1);e.exports=n.module("filearts.dragDrop").factory("$dragging",[function(){var e=null,t=null;return{getData:function(){return e},getType:function(){return t},setData:function(t){return e=t},setType:function(e){return t=e}}}]).directive("dragContainer",[function(){return{restrict:"A",require:"dragContainer",controller:"DragContainerController",controllerAs:"dragContainer",link:function(e,t,r,n){n.init(t),t.on("dragstart",n.handleDragStart.bind(n)),t.on("dragend",n.handleDragEnd.bind(n)),e.$watch(r.dragContainer,n.updateDragData.bind(n)),r.$observe("mimeType",n.updateDragType.bind(n)),r.$set("draggable",!0)}}}]).controller("DragContainerController",["$dragging",function(e){var t=this;t.init=function(e){t.el=e},t.handleDragStart=function(r){r.originalEvent&&(r=r.originalEvent),r.dataTransfer.setData(t.type,t.data),r.dataTransfer.effectAllowed="move",r.dataTransfer.dropEffect="move",t.el.addClass("drag-container-active"),t.dragging=!0,e.setData(t.data),e.setType(t.type)},t.handleDragEnd=function(r){r.originalEvent&&(r=r.originalEvent),n.element(r.target).removeClass("drag-active"),t.el.removeClass("drag-container-active"),t.dragging=!1,e.setData(null),e.setType(null)},t.updateDragData=function(r){t.data=r,t.dragging&&e.setData(t.data)},t.updateDragType=function(r){t.type=r||"text/x-drag-data",t.dragging&&e.setType(t.type)}}]).directive("dropContainer",["$document","$parse",function(e,t){return{restrict:"A",require:"dropContainer",controller:"DropContainerController",controllerAs:"dropContainer",link:function(r,n,a,o){var i=function(e){return function(t){return r.$apply(function(){return o["handle"+e](t)})}},l=o.handleDragEnd.bind(o),c=i("DragEnter"),s=i("DragOver"),d=i("DragLeave"),g=i("Drop");o.init(n,r,{onDragEnter:t(a.onDragEnter),onDragOver:t(a.onDragOver),onDragLeave:t(a.onDragLeave),onDrop:t(a.onDrop)}),n.on("dragenter",c),n.on("dragover",s),n.on("dragleave",d),n.on("drop",g),r.$watch(a.accepts,o.updateMimeTypes.bind(o)),e.on("dragend",l),r.$on("$destroy",function(){e.off("dragend",l)})}}}]).controller("DropContainerController",["$dragging",function(e){var t=this,r={},a="center top top-right right bottom-right bottom bottom-left left top-left".split(" ");t.init=function(e,r,n){t.el=e,t.scope=r,t.callbacks=n,t.accepts=["text/x-drag-data"],t.el.addClass("drop-container")},t.addDropTarget=function(e,t){if(a.indexOf(e)<0)throw new Error("Invalid anchor point "+e);if(r[e])throw new Error("Duplicate drop targets for the anchor "+e);r[e]=t},t.removeDropTarget=function(e){r[e]&&r[e]===e&&(t.activeTarget=null),delete r[e]},t.updateMimeTypes=function(e){e||(e=["text/x-drag-data"]),n.isArray(e)||(e=[e]),t.accepts=e},t.updateDragTarget=function(a,o){a.originalEvent&&(a=a.originalEvent);var i=null,l=null,c=Number.MAX_VALUE,s=t.activeAnchor,d=t.activeTarget;o||n.forEach(r,function(e,r){var n=t.el[0].offsetWidth,o=t.el[0].offsetHeight,s=n/2,d=o/2;r.indexOf("left")>=0&&(s=0),r.indexOf("top")>=0&&(d=0),r.indexOf("right")>=0&&(s=n),r.indexOf("bottom")>=0&&(d=o);var g=Math.pow(s-a.offsetX,2)+Math.pow(d-a.offsetY,2);c>g&&(l=r,i=e,c=g)}),t.activeAnchor=l,t.activeTarget=i;var g={$event:a,data:e.getData(),anchor:l,target:i,prevAnchor:s,prevTarget:d};return d!==i&&(d&&(t.el.removeClass("drop-container-active-"+s),d.handleDragLeave(g)),i&&(t.el.addClass("drop-container-active-"+l),i.handleDragEnter(g))),g},t.handleDragEnter=function(r){if(r.originalEvent&&(r=r.originalEvent),!t.accepts||t.accepts.indexOf(e.getType())>=0){r.preventDefault();var n=t.updateDragTarget(r);t.el.children().css({"pointer-events":"none"}),t.el.addClass("drop-container-active"),t.callbacks.onDragEnter&&t.callbacks.onDragEnter(t.scope,n)}},t.handleDragOver=function(r){if(r.originalEvent&&(r=r.originalEvent),!t.accepts||t.accepts.indexOf(e.getType())>=0){r.preventDefault();var n=t.updateDragTarget(r);n.target&&n.target.handleDragOver(n),t.callbacks.onDragOver&&t.callbacks.onDragOver(t.scope,n)}},t.handleDragLeave=function(e){e.originalEvent&&(e=e.originalEvent);var r=t.updateDragTarget(e,!0);t.el.children().css({"pointer-events":null}),t.el.removeClass("drop-container-active"),t.callbacks.onDragLeave&&t.callbacks.onDragLeave(t.scope,r)},t.handleDragEnd=function(e){e.originalEvent&&(e=e.originalEvent),t.updateDragTarget(e,!0),t.el.children().css({"pointer-events":null}),t.el.removeClass("drop-container-active")},t.handleDrop=function(r){if(r.originalEvent&&(r=r.originalEvent),!t.accepts||t.accepts.indexOf(e.getType())>=0){r.preventDefault();var n=t.updateDragTarget(r);n.target&&n.target.handleDrop(n),t.callbacks.onDrop&&t.callbacks.onDrop(t.scope,n),this.handleDragEnd(r)}}}]).directive("dropTarget",["$parse",function(e){return{restrict:"A",require:["^dropContainer","dropTarget"],controller:"DropTargetController",controllerAs:"dropTarget",link:function(t,r,n,a){var o=a[0],i=a[1],l=n.dropTarget||"center",c=o.removeDropTarget.bind(o,l);r.addClass("drop-target drop-target-"+l),i.init(r,t,{onDragEnter:e(n.onDragEnter),onDragOver:e(n.onDragOver),onDragLeave:e(n.onDragLeave),onDrop:e(n.onDrop)}),o.addDropTarget(l,i),t.$on("$destroy",c)}}}]).controller("DropTargetController",[function(){var e=this;e.init=function(t,r,n){e.el=t,e.scope=r,e.callbacks=n},e.handleDragEnter=function(t){e.el.addClass("drop-target-active"),e.callbacks.onDragEnter&&e.callbacks.onDragEnter(e.scope,t)},e.handleDragOver=function(t){e.callbacks.onDragOver&&e.callbacks.onDragOver(e.scope,t)},e.handleDragLeave=function(t){e.el.removeClass("drop-target-active"),e.callbacks.onDragLeave&&e.callbacks.onDragLeave(e.scope,t)},e.handleDrop=function(t){e.callbacks.onDrop&&e.callbacks.onDrop(e.scope,t)}}])},function(e){e.exports=angular},function(e,t,r){var n=r(3);"string"==typeof n&&(n=[[e.id,n,""]]);r(4)(n,{})},function(e,t,r){t=e.exports=r(5)(),t.push([e.id,"[drag-container]{-khtml-user-drag:element;-webkit-user-drag:element;-khtml-user-select:none;-moz-user-select:none;-webkit-user-select:none;user-drag:element;user-select:none}[drop-container]{position:relative}[drop-target]{position:absolute;display:none}[drop-target].drop-target-active{display:block;pointer-events:none}.drop-target-center{top:0;right:0;bottom:0;left:0}.drop-target-top{top:0;right:0;height:50%;left:0}.drop-target-top-right{top:0;right:0;height:50%;width:50%}.drop-target-right{top:0;right:0;bottom:0;width:50%}.drop-target-bottom-right{height:50%;right:0;bottom:0;width:50%}.drop-target-bottom{height:50%;right:0;bottom:0;left:0}.drop-target-bottom-left{height:50%;width:50%;bottom:0;left:0}.drop-target-left{top:0;right:50%;bottom:0;left:0}.drop-target-top-left{top:0;width:50%;height:50%;left:0}",""])},function(e){function t(e,t){for(var r=0;r<e.length;r++){var n=e[r],o=c[n.id];if(o){o.refs++;for(var i=0;i<o.parts.length;i++)o.parts[i](n.parts[i]);for(;i<n.parts.length;i++)o.parts.push(a(n.parts[i],t))}else{for(var l=[],i=0;i<n.parts.length;i++)l.push(a(n.parts[i],t));c[n.id]={id:n.id,refs:1,parts:l}}}}function r(e){for(var t=[],r={},n=0;n<e.length;n++){var a=e[n],o=a[0],i=a[1],l=a[2],c=a[3],s={css:i,media:l,sourceMap:c};r[o]?r[o].parts.push(s):t.push(r[o]={id:o,parts:[s]})}return t}function n(){var e=document.createElement("style"),t=g();return e.type="text/css",t.appendChild(e),e}function a(e,t){var r,a,o;if(t.singleton){var c=u++;r=p||(p=n()),a=i.bind(null,r,c,!1),o=i.bind(null,r,c,!0)}else r=n(),a=l.bind(null,r),o=function(){r.parentNode.removeChild(r)};return a(e),function(t){if(t){if(t.css===e.css&&t.media===e.media&&t.sourceMap===e.sourceMap)return;a(e=t)}else o()}}function o(e,t,r){var n=["/** >>"+t+" **/","/** "+t+"<< **/"],a=e.lastIndexOf(n[0]),o=r?n[0]+r+n[1]:"";if(e.lastIndexOf(n[0])>=0){var i=e.lastIndexOf(n[1])+n[1].length;return e.slice(0,a)+o+e.slice(i)}return e+o}function i(e,t,r,n){var a=r?"":n.css;if(e.styleSheet)e.styleSheet.cssText=o(e.styleSheet.cssText,t,a);else{var i=document.createTextNode(a),l=e.childNodes;l[t]&&e.removeChild(l[t]),l.length?e.insertBefore(i,l[t]):e.appendChild(i)}}function l(e,t){var r=t.css,n=t.media,a=t.sourceMap;if(a&&"function"==typeof btoa)try{r+="\n/*# sourceMappingURL=data:application/json;base64,"+btoa(JSON.stringify(a))+" */",r='@import url("data:stylesheet/css;base64,'+btoa(r)+'")'}catch(o){}if(n&&e.setAttribute("media",n),e.styleSheet)e.styleSheet.cssText=r;else{for(;e.firstChild;)e.removeChild(e.firstChild);e.appendChild(document.createTextNode(r))}}var c={},s=function(e){var t;return function(){return"undefined"==typeof t&&(t=e.apply(this,arguments)),t}},d=s(function(){return/msie 9\b/.test(window.navigator.userAgent.toLowerCase())}),g=s(function(){return document.head||document.getElementsByTagName("head")[0]}),p=null,u=0;e.exports=function(e,n){n=n||{},"undefined"==typeof n.singleton&&(n.singleton=d());var a=r(e);return t(a,n),function(e){for(var o=[],i=0;i<a.length;i++){var l=a[i],s=c[l.id];s.refs--,o.push(s)}if(e){var d=r(e);t(d,n)}for(var i=0;i<o.length;i++){var s=o[i];if(0===s.refs){for(var g=0;g<s.parts.length;g++)s.parts[g]();delete c[s.id]}}}}},function(e){e.exports=function(){var e=[];return e.toString=function(){for(var e=[],t=0;t<this.length;t++){var r=this[t];e.push(r[2]?"@media "+r[2]+"{"+r[1]+"}":r[1])}return e.join("")},e}}]);